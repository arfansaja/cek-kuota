<<html lang="id">
    <head> 
     <meta charset="UTF-8"> 
     <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
     <title>cek kuota</title> 
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"> 
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> 
     <style type="text/css">
        /* SCRIPT BY ELZ */
        @import url("https://fastly.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css");

        * {
            font-family: 'Poppins', sans-serif;
            user-select: none;
        }

        body {
            background-color: #EDF1FC;
        }

        p {
            margin: 0;
            font-size: 12px
        }

        input {
            border: none;
            -webkit-transition: 0.5s;
            transition: 0.5s;
            outline: none;
            width: 100%;
            background-color: transparent;
        }

        a,
        a:focus,
        a:hover {
            text-decoration: none;
            color: inherit;
        }

        @-webkit-keyframes fadeEffect {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes fadeEffect {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .my-bg {
            background-color: #333
        }

        .my-color {
            color: #333
        }

        .my-border {
            border: 1px solid #333;
        }

        .borad-5 {
            border-radius: 5px
        }

        .borad-10 {
            border-radius: 10px
        }

        .borad-15 {
            border-radius: 15px
        }

        .my-shadow {
            box-shadow: rgba(0, 0, 0, 0.15) 0 0 5px 1px;
        }

        .bg-white {
            background-color: #fff !important
        }

        .text-white {
            color: #fff
        }

        .f-11 {
            font-size: 11px !important
        }

        .f-12 {
            font-size: 12px !important
        }

        .f-14 {
            font-size: 14px !important
        }

        .f-16 {
            font-size: 16px !important
        }

        .f-18 {
            font-size: 18px !important
        }

        .f-20 {
            font-size: 20px !important
        }

        .f-22 {
            font-size: 22px !important
        }

        .f-24 {
            font-size: 24px !important
        }

        .f-26 {
            font-size: 26px !important
        }

        .f-28 {
            font-size: 28px !important
        }

        .fwb-5 {
            font-weight: 500
        }

        .fwb-6 {
            font-weight: 600
        }

        .op-7 {
            opacity: 0.7
        }

        .d-grid-1 {
            display: grid;
            grid-template-columns: repeat(1, 1fr);
            gap: 1rem;
        }

        .app {
            background-color: #e22c2c;
            box-shadow: rgba(76, 112, 82, 0.15) 0 0 5px 1px;
            padding: 8px;
            border-radius: 5px;
            margin-top: -35px
        }
        .appp {
            background-color: #f8f4f4;
            box-shadow: rgba(214, 162, 162, 0.15) 0 0 5px 1px;
            padding: 8px;
            border-radius: 5px;
            margin-top: -20px
        }
        
        .red {
            color: red;            
        }
        .blue {
            color: #42A5F5;
        }
        

        .search-container {
            margin-bottom: 20px;
        }
        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            margin-bottom: *10px;
            box-sizing: border-box;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #f1eeee;
            padding: 8px;
            text-align: left;
            font-size: 16px;
            font-weight: 500;
            opacity: 0.7
        }
        th {
            background-color: #333;
            color: #ffffff;
        }
        .mt {
            margin-top: -23px;
        }
        
        #output {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 50vh; /* Tinggi penuh layar */
    text-align: center;
}

.d-flex {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
}
    </style>
<body>
    <div id="cover-spin"></div>
<section class="header">
        <div class="bg-head"></div>
    </section>
    <section class="p-5 sticky-top">
        <div class="appp">
            <center><p class="fwb-6 f-18 dark">Cek Kuota XL & AXIS</p></center>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="px-4 pt-3 mt" id="boxPilihan">
        <div class="bg-white p-3 borad-5 shadow-sm">
               <!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Cek Kuota</title>
  <style>

    .container {
      max-width: 600px;
      margin: auto;
    }

    input, button {
      padding: 12px;
      font-size: 16px;
      margin: 8px 0;
      width: 100%;
      border-radius: 8px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }

    button {
      background-color: #5e0df5;
      color: white;
      font-weight: bold;
      border: none;
    }

    .paket, .info-box {
      background: #cfcaca;
      border-radius: 12px;
      box-shadow: 0 1px 6px rgba(0,0,0,0.1);
      margin-top: 20px;
      padding: 16px;
    }

    .paket-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
    }

    .paket-title::before {
      content: "üî∞";
      margin-right: 8px;
    }

    .kuota-item {
      margin-bottom: 12px;
    }

    .kuota-label {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      margin-bottom: 4px;
    }

    .bar {
      height: 6px;
      background-color: #fcf7f7;
      border-radius: 3px;
      overflow: hidden;
    }

    .bar-fill {
      height: 100%;
      background-color: #edf0ee;
      transition: width 0.3s ease;
    }

    .reset-info {
      font-size: 12px;
      color: #555;
      display: flex;
      align-items: center;
      gap: 6px;
      margin-top: 10px;
    }

    .reset-info::before {
      content: "üìÖ";
    }

    .info-line {
      font-size: 14px;
      margin-bottom: 6px;
    }

    .info-title {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 10px;
    }
  </style>
    </head> 
    <body> 
     <div class="container"> 
      <div class="card"> 
       <div class="card-body"> 
        <form id="cekKuotaForm"> 
         <div class="mb-3"> 
          <input type="nomor" id="nomor" name="nomor" class="form-control" placeholder="Masukan nomer hp kalian" required> 
         </div> 
         <button type="submit" class="btn btn-primary w-100"> Cek Paket </button> 
        </form> 
        <div class="alert mt-3" id="responseMessage"> 
         <pre id="resultText"></pre> 
        </div> 
       </div> 
      </div> 
     </div> 
     <div class="footer">
       ¬© cek kuota | 
       my 
       roby ch
     <script>
           document.getElementById("cekKuotaForm").addEventListener("submit", async function(event) {
               event.preventDefault();
               
               const nomor = document.getElementById("nomor").value.trim();
               const responseMessage = document.getElementById("responseMessage");
               const resultText = document.getElementById("resultText");
               const submitBtn = event.target.querySelector("button[type='submit']");
               
               // Save original button content
               const originalBtnContent = submitBtn.innerHTML;
   
               // Show loading state
               submitBtn.disabled = true;
               submitBtn.innerHTML = `<span class="loading-spinner"></span> Memproses...`;
               
               showResult("roby ch sedang memproses...", "info");
   
               try {
                   let nomorHP = nomor.replace(/\D/g, "");
   
                   // Convert 62 to 08 if needed
                   if (/^62\d{9,12}$/.test(nomorHP)) {
                       nomorHP = "0" + nomorHP.substring(2);
                   }
   
                   // Validate number
                   if (!/^08\d{8,11}$/.test(nomorHP)) {
                       showResult("‚ùå nomer salah jangan goblog lah plis yang teliti", "danger");
                       return;
                   }
   
   
                   const response = await fetch(`https://apigw.kmsp-store.com/sidompul/v4/cek_kuota?msisdn=${nomorHP}&isJSON=true`, {
                       headers: {
                           "Authorization": "Basic c2lkb21wdWxhcGk6YXBpZ3drbXNw",
                           "X-API-Key": "60ef29aa-a648-4668-90ae-20951ef90c55",
                           "X-App-Version": "4.0.0"
                       }
                   });
   
                   if (!response.ok) {
                       throw new Error("Gagal menghubungi server");
                   }
   
                   const data = await response.json();
   
                   if (data.statusCode !== 200) {
                       showResult(`‚ùå ${data.message || "Gagal memproses"}`, "danger");
                   } else if (data.status == false) {
                       showResult(`‚ö†Ô∏è ${data.message || "Gagal memproses"}`, "warning");
                   } else {
                       const hasilKuota = data.data.hasil
                           .replace(/<br>/g, "\n")
                           .replace(/üì≤.*\n?/u, "")
                           .replace(/üìÉ.*\n?/u, "")
                           .trim();
   
                       showResult(hasilKuota, "success");
                   }
               } catch (error) {
                   showResult(`‚ùå Error: ${error.message}`, "danger");
               } finally {
                   // Restore button
                   submitBtn.disabled = false;
                   submitBtn.innerHTML = originalBtnContent;
               }
           });
   
           function showResult(message, type) {
               const responseMessage = document.getElementById("responseMessage");
               const resultText = document.getElementById("resultText");
               
               resultText.textContent = message;
               responseMessage.className = `alert alert-${type}`;
               responseMessage.style.display = "block";
           }
       </script> 
    </body>
   </html>
   
